<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="js/vue.js"></script>
		<script src="js/ajax.js"></script>
		<script src="js/public.js"></script>
		<style>
			#app{
				width: 300px;
				height: 200px;
				position: fixed;
				left: 50%;
				top:50%;
				transform: translate(-50%,-50%);
				background-color: #c9d6df;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
			}
			#app button{
				width: 50px;
				height: 30px;
			}
		</style>
	</head>
	<body>
		<div id="app">
			用户名：<input type="text" v-model="user.loginId" />
			密&nbsp;&nbsp;&nbsp;&nbsp;码：<input type="password" v-model="user.loginPwd" />
			<button onclick="login()">登录</button><span v-show="isShow" class="message">用户名或密码错误</span>
		</div>
		<script>
			var app = new Vue({
				el: '#app',
				data: {
					user: {
						loginId: 'zhangsan',
						loginPwd: '123456'
					},
					isShow: false
				},
			});

			function login() {
				let url = BASEURL + '/user/login.action';
				postJson(url, app.user, (data) => {
					if (data.errorcode == 0) {
						location.href = 'index.html';
					} else {
						app.isShow = true;
					}
				});
			}
		</script>
	</body>
</html>